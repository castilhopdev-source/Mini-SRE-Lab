
version: '3'

services: #ğŸ§± DefiniÃ§Ã£o de ServiÃ§os: Aqui comeÃ§a a definiÃ§Ã£o dos containers que fazem parte da aplicaÃ§Ã£o, cada item dentro de services vira um container.
  nginx: #Define o nome do serviÃ§o: Esse nome vira o hostname interno na rede Docker, por isso o monitor usa: #URL = "http://nginx"
    build: ./nginx #ğŸ“Œ O que faz: Instrui o Compose a: Construir a imagem usando o Dockerfile dentro da pasta ./nginx | Equivalente a: docker build -t nginx ./nginx
    container_name: sre_nginx # ğŸ“Œ O que faz: Define nome fixo do container, isso facilita: Debug, Logs e SimulaÃ§Ã£o de falhas
    ports:  ###### ğŸ“Œ O que faz: Mapeia portas | Porta 8080 da sua mÃ¡quina | Para porta 80 do container | Assim vocÃª pode acessar: http://localhost:8080
      - "8080:80" 

  monitor:
    build: ./monitor
    container_name: sre_monitor 
    depends_on: # ğŸ“Œ O que faz: Garante que o nginx seja iniciado antes do monitor, âš ï¸ Importante Isso nÃ£o garante que o nginx esteja pronto, apenas que foi iniciado. 
      - nginx

#ğŸ“„ Arquivo: docker-compose.yml
#ğŸ¯ Objetivo
#Definir e orquestrar:
#O serviÃ§o alvo (nginx)
#O serviÃ§o de monitoramento (monitor)
#A rede interna entre eles
#DependÃªncia de inicializaÃ§Ã£o
#Ele representa, em escala menor, o que seria feito em:
#Kubernetes
#ECS
#Docker Swarm

     